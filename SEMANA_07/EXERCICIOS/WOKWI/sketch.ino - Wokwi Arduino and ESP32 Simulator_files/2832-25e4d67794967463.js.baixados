(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2832],{88440:function(e,n,t){"use strict";t.d(n,{p:function(){return ue},r:function(){return le}});var r=t(47568),i=t(14924),o=t(34051),a=t.n(o),l=t(85893),s=t(19604),u=t(86010),c=t(68949),d=t(71217),f=t(67294),p=t(7914),m=t(73983),h=t(26042),v=t(99534);var x=t(84104),g=t(41842),y=t(61449),w=t(48734),j=t(44671),k=t.n(j),b=t(51438),Z=t(52951),C=t(86480),S=t.n(C),_=function(){function e(n,t){var r=this;(0,b.Z)(this,e),(0,i.Z)(this,"currentHintDecoration",void 0),(0,i.Z)(this,"debuggers",void 0),(0,i.Z)(this,"modelDecorations",void 0),(0,i.Z)(this,"monacoGlobal",void 0),(0,i.Z)(this,"editor",void 0),this.monacoGlobal=n,this.editor=t,this.currentHintDecoration=[],this.debuggers=new WeakMap,this.modelDecorations=new WeakMap,t.onMouseMove((function(e){var i=null,o=t.getModel(),a=n.editor.MouseTargetType;o&&r.debuggers.get(o)&&e.target.position&&(e.target.type===a.GUTTER_GLYPH_MARGIN||e.target.type===a.GUTTER_LINE_NUMBERS)&&(e.target.detail.isAfterLines||(i=e.target.position.lineNumber));r.setBreakpointHintDecoration(i)})),t.onMouseLeave((function(){r.setBreakpointHintDecoration(null)})),t.onMouseDown((function(e){var i=n.editor.MouseTargetType,o=t.getModel(),a=o?r.debuggers.get(o):null;if(e.target.position&&a&&e.target.type===i.GUTTER_GLYPH_MARGIN&&!e.target.detail.isAfterLines){var l=e.target.position.lineNumber;a.breakpoints.find((function(e){return e.lineNumber===l}))?a.removeBreakpoint(l):a.setBreakpoint(l)}}))}return(0,Z.Z)(e,[{key:"attachToModel",value:function(e,n){var t=this;this.debuggers.set(e,n);var r=(0,c.EH)((function(){t.updateBreakpointDecorations(e,n)}));e.onDidChangeAttached((function(){if(e.isAttachedToEditor()){var r=t;setTimeout((function(){return r.updateBreakpointDecorations(e,n)}),0)}})),e.onWillDispose(r)}},{key:"supportsBreakpoints",value:function(e){return e.endsWith(".ino")||e.endsWith(".h")||e.endsWith(".c")||e.endsWith(".cpp")}},{key:"updateBreakpointDecorations",value:function(e,n){var t,r=this,i=this.monacoGlobal.editor.OverviewRulerLane,o=null!==(t=this.modelDecorations.get(e))&&void 0!==t?t:[],a=n.breakpoints.map((function(n){var t=e.getLineFirstNonWhitespaceColumn(n.lineNumber);return{range:e.validateRange(new r.monacoGlobal.Range(n.lineNumber,t,n.lineNumber,t+1)),options:{description:"breakpoint-decoration",isWholeLine:!0,className:n.active?S().stackframeLine:null,glyphMarginClassName:n.active?(0,u.Z)("codicon-debug-stackframe",S().stackframe):(0,u.Z)("codicon-debug-breakpoint",S().breakpoint),glyphMarginHoverMessage:{value:"Breakpoint"},overviewRuler:{color:"#e51400",position:i.Left}}}}));this.modelDecorations.set(e,this.editor.deltaDecorations(o,a))}},{key:"setBreakpointHintDecoration",value:function(e){var n=this.monacoGlobal.editor.TrackedRangeStickiness;this.currentHintDecoration=this.editor.deltaDecorations(this.currentHintDecoration,e?[{range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},options:{glyphMarginClassName:(0,u.Z)("codicon-debug-hint",S().hint),stickiness:n.NeverGrowsWhenTypingAtEdges}}]:[])}}]),e}(),D=t(39355),M=t(51797),E=t(46761),N=t(72428),z=t(23132),F=t(69243),R=t(31204),W=t(19117),T=t(31538),A=t(29894),B=t(61702),L=t(10625),P=t(68102),H=t(40622),I=t(89497),G=t(54225),K=t(1890),O=t(76779),U=t(95398),V=t(77745),q=t(21352),Y=(0,I.Z)((function(){return{dialogBody:{minHeight:"96px"}}}));function $(e){var n=e.open,t=e.validateName,r=e.onClose,i=e.onSubmit,o=(0,f.useState)(""),a=o[0],s=o[1],u=(0,f.useState)(null),c=u[0],d=u[1],p=Y(),m=function(){c||(a&&i(a),r())};return(0,l.jsx)(K.Z,{open:n,onClose:r,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xs",children:(0,l.jsxs)("form",{onSubmit:function(e){m(),e.preventDefault()},children:[(0,l.jsx)(V.Z,{id:"form-dialog-title",children:"Create a new file"}),(0,l.jsx)(U.Z,{className:p.dialogBody,children:(0,l.jsx)(q.Z,{autoFocus:!0,margin:"dense",label:"New file name",fullWidth:!0,value:a,onChange:function(e){var n=e.target.value;s(n),d(n?t(n):null)},error:null!=c,helperText:c})}),(0,l.jsxs)(O.Z,{children:[(0,l.jsx)(G.Z,{onClick:r,children:"Cancel"}),(0,l.jsx)(G.Z,{onClick:m,color:"primary",variant:"contained",disabled:null!=c,children:"Create"})]})]})})}var Q=(0,I.Z)((function(){return{dialogBody:{minHeight:"96px"}}}));function J(e){var n=e.open,t=e.originalName,r=e.validateName,i=e.onClose,o=e.onRename,a=(0,f.useState)(t),s=a[0],u=a[1],c=(0,f.useState)(null),d=c[0],p=c[1],m=Q();(0,f.useEffect)((function(){u(t)}),[t]);var h=function(){d||(s!==t&&o(s),i())};return(0,l.jsx)(K.Z,{open:n,onClose:i,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xs",children:(0,l.jsxs)("form",{onSubmit:function(e){h(),e.preventDefault()},children:[(0,l.jsxs)(V.Z,{id:"form-dialog-title",children:['Rename "',t,'"']}),(0,l.jsx)(U.Z,{className:m.dialogBody,children:(0,l.jsx)(q.Z,{autoFocus:!0,margin:"dense",label:"New file name",fullWidth:!0,value:s,onChange:function(e){var n=e.target.value;u(n),p(n===t?null:r(n))},error:null!=d,helperText:d})}),(0,l.jsxs)(O.Z,{children:[(0,l.jsx)(G.Z,{onClick:i,children:"Cancel"}),(0,l.jsx)(G.Z,{onClick:h,color:"primary",variant:"contained",disabled:null!=d,children:"Rename"})]})]})})}var X=["ino","txt","h","hh","hpp","c","csv","cpp","md","json","S","py","rs","bas","v"],ee=["ino","h","hh","hpp","c","cpp"];function ne(e){var n=e.split(".");return ee.includes(n[n.length-1])}function te(e){var n=e.activeFile,t=e.open,i=e.anchorEl,o=e.onClose,s=e.onFileCreated,u=function(e){var n=!0,t=!1,r=void 0;try{for(var i,o='/<>:"\\|?*'[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;if(e.includes(a))return C("error.invalidFileName","Invalid filename: character {{char}} is not allowed.",{char:a})}}catch(l){t=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}return e.includes(".")&&function(e){var n=e.split(".");return X.includes(n[n.length-1])}(e)||"Cargo.toml"===e?c.files.some((function(n){return n.name===e}))?C("error.fileExists","A file with this name already exists"):null:C("error.invalidFileType","Invalid file type. Supported file types: {{types}}",{types:X.join(", ")})},c=(0,H.P)(),d=(0,f.useContext)(le),p=(0,f.useState)(!1),m=p[0],h=p[1],v=(0,f.useState)(!1),x=v[0],g=v[1],y=(0,f.useState)(!1),w=y[0],j=y[1],k=(0,f.useState)(""),b=k[0],Z=k[1],C=(0,L.q)("editor.fileMenu").translate,S=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r,i,o,l,s,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.aE)({multiple:!0,accept:X.map((function(e){return".".concat(e)}))});case 2:n=e.sent.files,t=[],r=!0,i=!1,o=void 0,e.prev=5,l=n[Symbol.iterator]();case 7:if(r=(s=l.next()).done){e.next=25;break}if(d=s.value,null!==(f=u(d.name))){e.next=21;break}return e.t0=c,e.t1=d.name,e.t2=new TextDecoder,e.next=16,d.arrayBuffer();case 16:e.t3=e.sent,e.t4=e.t2.decode.call(e.t2,e.t3),e.t0.addFile.call(e.t0,e.t1,e.t4),e.next=22;break;case 21:t.push("".concat(d.name,": ").concat(f));case 22:r=!0,e.next=7;break;case 25:e.next=31;break;case 27:e.prev=27,e.t5=e.catch(5),i=!0,o=e.t5;case 31:e.prev=31,e.prev=32,r||null==l.return||l.return();case 34:if(e.prev=34,!i){e.next=37;break}throw o;case 37:return e.finish(34);case 38:return e.finish(31);case 39:t.length&&alert(C("error.uploadFailed","Some files could not be uploaded")+"\n\n"+t.join("\n"));case 40:case"end":return e.stop()}}),e,null,[[5,27,31,39],[32,,34,38]])})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(F.Z,{open:w,autoHideDuration:6e3,onClose:function(){j(!1)},children:(0,l.jsx)(R.Z,{severity:"success",children:b})}),(0,l.jsxs)(W.Z,{open:t,onClose:o,onClick:o,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[n&&ne(n)&&(0,l.jsxs)(T.Z,{onClick:(0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,null===(n=d.formatCode)||void 0===n?void 0:n.call(d);case 3:t=e.sent,j(!0),Z(t?C("formatSuccessful","Code formatted successfully"):C("formatAlready","Code already formatted"));case 6:case"end":return e.stop()}}),e)}))),children:[(0,l.jsx)(A.Z,{children:(0,l.jsx)(D.Z,{})}),(0,l.jsx)(B.Z,{primary:C("formatCode","Format code")})]}),n&&(0,l.jsxs)(T.Z,{onClick:function(){g(!0)},children:[(0,l.jsx)(A.Z,{children:(0,l.jsx)(M.Z,{fontSize:"small"})}),(0,l.jsx)(B.Z,{children:C("rename","Rename")})]}),n&&(0,l.jsxs)(T.Z,{onClick:function(){confirm(C("confirmDelete","This will remove {{filename}}. Should I go ahead?",{filename:null!==n&&void 0!==n?n:""}))&&n&&c.removeFile(n)},children:[(0,l.jsx)(A.Z,{children:(0,l.jsx)(E.Z,{fontSize:"small"})}),(0,l.jsx)(B.Z,{children:C("delete","Delete")})]}),(0,l.jsxs)(T.Z,{onClick:function(){h(!0)},children:[(0,l.jsx)(A.Z,{children:(0,l.jsx)(N.Z,{fontSize:"small"})}),(0,l.jsx)(B.Z,{children:C("newFile","New file...")})]}),(0,l.jsxs)(T.Z,{onClick:S,children:[(0,l.jsx)(A.Z,{children:(0,l.jsx)(z.Z,{fontSize:"small"})}),(0,l.jsx)(B.Z,{children:C("uploadFile","Upload file(s)...")})]})]}),(0,l.jsx)($,{open:m,validateName:u,onClose:function(){return h(!1)},onSubmit:function(e){c.addFile(e),null===s||void 0===s||s(e)}}),(0,l.jsx)(J,{open:x,originalName:null!==n&&void 0!==n?n:"",validateName:u,onClose:function(){return g(!1)},onRename:function(e){n&&c.renameFile(n,e)}})]})}var re,ie=JSON.parse('{"$schema":"http://json-schema.org/schema#","type":"object","required":["version","author","editor","parts","connections"],"properties":{"version":{"enum":[1]},"author":{"type":"string","title":"Author name"},"editor":{"type":"string","title":"Software used to create this file","default":"wokwi","examples":["wokwi"]},"pacman":{"type":"boolean"},"parts":{"type":"array","title":"List of parts","items":{"required":["id","type"],"properties":{"id":{"type":"string"},"type":{"enum":["board-ssd1306","wokwi-74hc165","wokwi-74hc595","wokwi-analog-joystick","wokwi-arduino-nano","wokwi-arduino-mega","wokwi-arduino-uno","wokwi-attiny85","wokwi-buzzer","wokwi-il9163","wokwi-ili9341","wokwi-dht11","wokwi-dht12","wokwi-dht22","wokwi-ds1307","wokwi-franzininho","wokwi-hc-sr04","wokwi-ir-receiver","wokwi-ky-040","wokwi-lcd1602","wokwi-lcd2004","wokwi-led","wokwi-led-bar-graph","wokwi-led-ring","wokwi-logic-analyzer","wokwi-max7219-matrix","wokwi-membrane-keypad","wokwi-microsd-card","wokwi-midi-player","wokwi-mpu6050","wokwi-neopixel","wokwi-neopixel-matrix","wokwi-neopixel-meter","wokwi-neopixel-canvas","wokwi-ntc-temperature-sensor","wokwi-servo","wokwi-tv","wokwi-photoresistor-sensor","wokwi-pi-pico","wokwi-pir-motion-sensor","wokwi-potentiometer","wokwi-pushbutton","wokwi-rgb-led","wokwi-resistor","wokwi-7segment","wokwi-splendida","wokwi-slide-potentiometer","wokwi-slide-switch","wokwi-ssd1306"]},"left":{"type":"number"},"top":{"type":"number"},"rotate":{"type":"number"},"attrs":{"type":"object","additionalProperties":{"type":"string"}},"hide":{"type":"boolean","default":false}},"additionalProperties":false}},"connections":{"type":"array","title":"List of part connections","items":{"type":"array","minItems":3,"maxItems":4,"items":[{"type":"string","title":"From pin","pattern":"^.+:.+$"},{"type":"string","title":"To pin","pattern":"^.+:.+$"},{"type":"string","title":"Wire color","format":"color","examples":["black","red","green"]},{"type":"array","items":{"pattern":"^[vh]-?[0-9]+|\\\\*$","type":"string"}}],"additionalItems":false}},"serialMonitor":{"type":"object","properties":{"display":{"type":"string","enum":["always","never","auto","plotter","terminal"],"default":"auto"},"newline":{"type":"string","enum":["none","lf","cr","crlf"]}}}}}'),oe=t(73169);function ae(e){e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:[{uri:"https://wokwi.com/schemas/diagram-v1.json",fileMatch:["diagram.json"],schema:ie}]})}var le=(0,f.createContext)({ready:!1,commands:{}});function se(e,n){var t=(0,x.PE)(e)||e===g.rp?"arduino":"vs";return n?"".concat(t,"-dark"):t}var ue=(0,d.Pi)((function(e){var n=e.tabs,o=e.architecture,d=(0,f.useState)(n[0]),j=d[0],b=d[1],Z=!n.includes(j),C=Z?n[0]:j,S=(0,f.useRef)(C),D=(0,f.useState)(null),M=D[0],E=D[1],N=(0,f.useState)(null),z=N[0],F=N[1],R=(0,f.useState)(null),W=R[0],T=R[1],A=(0,f.useRef)(W),B=(0,f.useRef)(null),L=(0,f.useContext)(le),P=(0,f.useState)(!1),H=P[0],I=P[1],G=(0,f.useRef)(null),K=(0,f.useRef)(null),O=(0,f.useState)(!1),U=O[0],V=O[1],q=(0,f.useState)((0,y.N)())[0],Y="1"===(0,p.Z)("wokwi-no-autocomplete"),$=(0,f.useRef)(!1),Q=(0,f.useCallback)((function(){var e=G.current;e&&(e.style.overflow="hidden",null===W||void 0===W||W.layout(),e.style.overflow="")}),[W]);L.doLayout=Q,(0,m.m)("resize",Q),L.goToError=function(){var e;if(!(null===(e=C.errors)||void 0===e?void 0:e.length)){var t=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l,s=o.value;if(null===(l=s.errors)||void 0===l?void 0:l.length)return void b(s)}}catch(u){r=!0,i=u}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}}},L.formatCode=(0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===W||void 0===W?void 0:W.getValue(),e.next=3,null===W||void 0===W?void 0:W.getAction("editor.action.formatDocument").run();case 3:return t=null===W||void 0===W?void 0:W.getValue(),e.abrupt("return",n!==t);case 5:case"end":return e.stop()}}),e)}))),(0,f.useEffect)((function(){Z&&b(n[0])}),[Z,n]);var J,X=(0,f.useCallback)((function(e){var n,t,r=z.Uri.parse("vfs:"+e.name),i=null!==(t=z.editor.getModel(r))&&void 0!==t?t:z.editor.createModel(e.content,function(e,n){var t=e.name,r=e.content,i=t.toLowerCase();return t.endsWith(".chip.c")?"cpp":(0,x.PE)(t)?"arduino":i.endsWith(".json")?"json":i.endsWith(".md")?"markdown":t.endsWith(".S")?"".concat(n,"-assembly"):t.endsWith(".py")?"python":t.endsWith(".rs")?"rust":t.endsWith(".bas")?"basic":t.endsWith(".js")?"javascript":t.endsWith(".ts")?"typescript":t.endsWith(".v")?"verilog":t===g.rp?r.includes("file format elf32-littlearm")?"arduino-listing-arm":"arduino-listing":"text"}(e,o),r);i.getValue()!==e.content&&i.setValue(e.content),i.onDidChangeContent((function(){var n;return null===(n=e.update)||void 0===n?void 0:n.call(e,i.getValue())}));var a=(0,c.EH)((function(){var n,t=A.current,r=(null===t||void 0===t?void 0:t.getModel())===i;z.editor.setModelMarkers(i,"Arduino",function(e,n){var t=function(n){switch(n){case"error":return e.MarkerSeverity.Error;case"warning":return e.MarkerSeverity.Warning;case"note":return e.MarkerSeverity.Hint}return e.MarkerSeverity.Error};return n.map((function(e){var n=e.type,r=(0,v.Z)(e,["type"]);return(0,h.Z)({severity:t(n)},r)}))}(z,e.errors||[]));var o=null===(n=e.errors)||void 0===n?void 0:n.filter((function(e){return"note"!==e.type}));r&&(null===o||void 0===o?void 0:o.length)&&setTimeout((function(){null===t||void 0===t||t.trigger(null,"closeMarkersNavigation",[]),null===t||void 0===t||t.getAction("editor.action.marker.next").run(),null===t||void 0===t||t.trigger(null,"closeMarkersNavigation",[])}),0)}));i.onWillDispose(a);var l,s=e.debugger;s&&(null===B||void 0===B||null===(n=B.current)||void 0===n?void 0:n.supportsBreakpoints(e.name))&&(null===(l=B.current)||void 0===l||l.attachToModel(i,s));return i}),[z,o]);return(0,f.useEffect)((function(){(re||(re=(0,r.Z)(a().mark((function e(){var n,r,i,o,l,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe.y||((n=document.createElement("link")).dataset.info="nextjs-head-issue-workaround",document.head.appendChild(n)),s._m.config({paths:{vs:"https://wokwi.com/cdn/monaco-editor/0.33.0/vs"}}),e.next=4,s._m.init();case 4:return r=e.sent,e.next=7,Promise.all([t.e(8639),t.e(8599)]).then(t.bind(t,8599));case 7:return i=e.sent,o=i.registerArduinoLanguage,l=i.registerAVRAssemblyLanguage,u=i.registerAVRListingLanguage,o(r),l(r),u(r),ae(r),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))()),re).then(F)}),[]),(0,f.useEffect)((function(){var e=S.current;if(S.current=C,W&&z){var t;if(e&&n.includes(e))null===(t=e.setEditorState)||void 0===t||t.call(e,{model:W.getModel(),viewState:W.saveViewState()});var r=C.editorState;if(null===r||void 0===r?void 0:r.model){W.setModel(r.model);var i=W.getValue(),o=C.content;i!==o&&W.setValue(o)}else W.setModel(X(C));(null===r||void 0===r?void 0:r.viewState)&&W.restoreViewState(r.viewState),W.updateOptions({tabSize:C.name.endsWith(".py")?4:2,readOnly:C.name===g.rp}),$.current||L.embedMode&&!document.hasFocus()||(setTimeout((function(){return W.focus()}),0),$.current=!0)}}),[W,C,X,z,n,L.embedMode]),(0,f.useEffect)((function(){return(0,c.EH)((function(){if(W){var e=W.getModel();e&&C.content!==e.getValue()&&(W.pushUndoStop(),W.executeEdits("",[{range:e.getFullModelRange(),text:C.content}]),W.pushUndoStop())}}))}),[C,W]),(0,f.useEffect)((function(){if(null!=M){var e=n.find((function(e){return e.name===M}));e&&(null===W||void 0===W||W.focus(),b(e)),E(null)}}),[W,M,n]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(w.mQ,{children:[n.map((function(e){var n;return(0,l.jsx)(w.OK,{onMouseDown:function(e){return e.preventDefault()},onClick:function(){return b(e)},active:e===C,modified:e.modified,errors:null===(n=e.errors)||void 0===n?void 0:n.some((function(e){return"error"===e.type})),children:e.name},e.name)})),(0,l.jsx)(w.BX,{onClick:function(){return I(!H)},active:H,ref:K})]}),U&&(0,l.jsxs)("div",{children:["Characters: ",C.content.length]}),(0,l.jsx)(te,{activeFile:C.name,open:H,onClose:function(){return I(!1)},onFileCreated:function(e){E(e)},anchorEl:K.current}),C.customComponent,(0,l.jsxs)("div",{className:(0,u.Z)(k().editorContainer,(J={},(0,i.Z)(J,k().disableAutocomplete,Y),(0,i.Z)(J,"dark",q.dark),J)),style:{display:C.customComponent?"none":""},ref:G,children:[!z&&(0,l.jsx)("pre",{className:(0,u.Z)(k().sourceCodePreview,q.dark&&k().sourceCodePreviewDark),children:(0,l.jsx)("code",{children:C.content})}),z&&(0,l.jsx)(s.ZP,{onMount:function(e){if(T(e),A.current=e,e.updateOptions({tabSize:2}),z){var n;q.breakpoints&&(B.current=new _(z,e)),L.ready=!0,null===(n=L.onEditorReady)||void 0===n||n.call(L),L.onRunCode&&e.addAction({id:"run-program",label:"Compile & Run Program",keybindings:[z.KeyMod.CtrlCmd|z.KeyCode.Enter,z.KeyMod.CtrlCmd|z.KeyCode.KeyU,z.KeyMod.CtrlCmd|z.KeyCode.KeyR],run:function(){var e;return null===(e=L.onRunCode)||void 0===e?void 0:e.call(L)}}),L.onSaveCode&&e.addAction({id:"save",label:"Save",keybindings:[z.KeyMod.CtrlCmd|z.KeyCode.KeyS],run:function(){var e;return null===(e=L.onSaveCode)||void 0===e?void 0:e.call(L)}});var t=!0,r=!1,i=void 0;try{for(var o,a=function(n,t){var r=t.value,i=L.commands[r].name;e.addAction({id:r,label:i,run:function(){return L.commands[r].callback()}})},l=Object.keys(L.commands)[Symbol.iterator]();!(t=(o=l.next()).done);t=!0)a(0,o)}catch(s){r=!0,i=s}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}e.addAction({id:"character-counter",label:"Character Counter",run:function(){return V((function(e){return!e}))}}),e.setModel(X(C))}},wrapperProps:{className:k().wrapper},theme:se(C.name,q.dark),options:{glyphMargin:!0,scrollBeyondLastLine:!L.embedMode,fontSize:q.font,minimap:{enabled:!1}}})]})]})}))},30521:function(e,n,t){"use strict";t.d(n,{y:function(){return s}});var r=t(26042),i=t(85893),o=t(30120),a=t(86070),l=t(29630);function s(e){var n,t=Math.round(null!==(n=e.value)&&void 0!==n?n:0);return(0,i.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(o.Z,{sx:{width:"100%",mr:1},children:(0,i.jsx)(a.Z,(0,r.Z)({variant:"determinate"},e))}),(0,i.jsx)(o.Z,{sx:{minWidth:35},children:(0,i.jsx)(l.Z,{variant:"body2",color:"text.secondary",children:"".concat(t,"%")})})]})}},72832:function(e,n,t){"use strict";t.d(n,{u:function(){return rn}});var r=t(14924),i=t(85893),o=t(55317),a=t(8849),l=t.n(a),s=t(10389),u=t(59130),c=t(72428),d=t(41073),f=t(34685),p=t(89022),m=t(30120),h=t(72389),v=t(10160),x=t(43963),g=t(89497),y=t(86010),w=t(71217),j=t(5152),k=t.n(j),b=t(67294),Z=t(88272),C=t(10625),S=t(2889),_=t(78298),D=t(84104),M=t(61449),E=t(88440),N=t(96530),z=t(904),F=t(4111),R=t(51438),W=t(52951),T=t(28668),A=t(26626),B=t(29630),L=t(54225),P=function(e){(0,T.Z)(t,e);var n=(0,A.Z)(t);function t(){var e;return(0,R.Z)(this,t),e=n.apply(this,arguments),(0,r.Z)((0,F.Z)(e),"state",{hasError:!1}),e}return(0,W.Z)(t,[{key:"render",value:function(){if(this.state.hasError){var e=this;return(0,i.jsxs)(m.Z,{px:1,pt:8,style:{background:"black",color:"white",height:"100%"},children:[(0,i.jsx)(B.Z,{variant:"h3",children:"Error in diagram.json"}),(0,i.jsx)("p",{children:"Please fix the error and click Retry:"}),(0,i.jsx)(L.Z,{onClick:function(){return e.setState({hasError:!1})},color:"secondary",children:"Retry"})]})}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(b.Component),H=t(10417),I=t(83680),G=t(12215),K=t(85591),O=t(11296),U=t(88600),V=t(40404),q=t(17575),Y=t(65301),$=t(852),Q=t(31538),J=t(29894),X=t(61702),ee=t(44373),ne=t(39779),te=t(40622),re=(0,w.Pi)((function(){var e=(0,te.P)(),n=(0,b.useContext)(z.A),t=n.fullScreen,r=(0,C.q)("diagram.menu").translate,o=e.diagram,a=o&&o.undoManager.canUndo,l=o&&o.undoManager.canRedo,s=(0,ne.p)();return(0,i.jsxs)($.Z,{children:[(0,i.jsxs)(Q.Z,{disabled:!a,onClick:function(){null===o||void 0===o||o.undoManager.undo(),e.syncDiagram()},children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(H.Z,{fontSize:"small"})}),(0,i.jsx)(X.Z,{children:r("undo","Undo")}),(0,i.jsxs)(B.Z,{variant:"body2",color:"text.secondary",children:[s,"-Z"]})]}),(0,i.jsxs)(Q.Z,{disabled:!l,onClick:function(){null===o||void 0===o||o.undoManager.redo(),e.syncDiagram()},children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(I.Z,{fontSize:"small"})}),(0,i.jsx)(X.Z,{children:r("redo","Redo")}),(0,i.jsxs)(B.Z,{variant:"body2",color:"text.secondary",children:[s,"-Y"]})]}),(0,i.jsx)(ee.Z,{}),(0,i.jsxs)(Q.Z,{onClick:function(){return n.fit()},children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(G.Z,{fontSize:"small"})}),(0,i.jsx)(X.Z,{children:r("fit","Fit")}),(0,i.jsx)(B.Z,{variant:"body2",color:"text.secondary",children:"F"})]}),(0,i.jsxs)(Q.Z,{onClick:function(){return n.zoom(1.1)},children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(K.Z,{})}),(0,i.jsx)(X.Z,{children:r("zoomIn","Zoom in")}),(0,i.jsx)(B.Z,{variant:"body2",color:"text.secondary",children:"+"})]}),(0,i.jsxs)(Q.Z,{onClick:function(){return n.zoom(.9)},children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(O.Z,{})}),(0,i.jsx)(X.Z,{children:r("zoomOut","Zoom out")}),(0,i.jsx)(B.Z,{variant:"body2",color:"text.secondary",children:"\u2013"})]}),(0,i.jsx)(ee.Z,{}),(0,i.jsxs)(Q.Z,{onClick:function(){return n.toggleGrid()},children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(U.Z,{fontSize:"small"})}),(0,i.jsx)(X.Z,{children:r("toggleGrid","Toggle Grid")}),(0,i.jsx)(B.Z,{variant:"body2",color:"text.secondary",children:"G"})]}),(0,i.jsxs)(Q.Z,{onClick:function(){return n.toggleFullScreen()},children:[(0,i.jsx)(J.Z,{children:t?(0,i.jsx)(V.Z,{fontSize:"small"}):(0,i.jsx)(q.Z,{fontSize:"small"})}),(0,i.jsx)(X.Z,{children:t?r("exitFullScreen","Exit full screen"):r("fullScreen","Full screen")}),(0,i.jsx)(B.Z,{variant:"body2",color:"text.secondary",sx:{marginLeft:2},children:"Alt-Enter"})]}),(0,i.jsxs)(Q.Z,{onClick:function(){return window.open("https://docs.wokwi.com/guides/diagram-editor")},children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(Y.Z,{fontSize:"small"})}),(0,i.jsx)(X.Z,{children:r("help","Help")}),(0,i.jsx)(B.Z,{variant:"body2",color:"text.secondary",children:"?"})]})]})})),ie=t(61193),oe=(0,g.Z)((function(e){return{handle:{position:"relative",height:1,cursor:"row-resize",backgroundColor:"rgba(120, 120, 120, 0.3)","&:before":{display:"block",content:'" "',position:"absolute",top:-5,width:"100%",height:"10px"},"&:after":{display:"block",content:'" "',position:"absolute",background:e.palette.primary.light,top:-2,width:"100%",height:4,opacity:0},"&$dragging:after, &:hover:after":{opacity:1,transition:"opacity"}},dragging:{}}}));function ae(e){var n=e.children,t=e.initialSize,r=e.constrain,o=(0,b.useState)(!1),a=o[0],l=o[1],s=(0,b.useState)(t),u=s[0],c=s[1],d=oe(),f=r?r(u):u;return(0,i.jsxs)(m.Z,{display:"flex",flexDirection:"column",minHeight:f,flexBasis:f,children:[(0,i.jsx)(ie.DraggableCore,{onStart:function(){return l(!0)},onDrag:function(e,n){c((function(e){return e-n.deltaY}))},onStop:function(){return l(!1)},children:(0,i.jsx)("div",{className:(0,y.Z)(d.handle,a&&d.dragging)})}),n]})}var le=t(96506),se=t(85050),ue=t(76866),ce=t(9041),de=t(73327),fe=t(63185),pe=t(13731),me=(0,g.Z)((function(e){return(0,de.Z)({typography:{padding:e.spacing(2)}})}));function he(){var e=me(),n=(0,te.P)(),t=(0,b.useRef)(null),r=(0,b.useRef)(null),o=(0,b.useContext)(z.A),a=(0,b.useState)(""),l=a[0],s=a[1],u=(0,C.q)("diagram.addPart").translate,c=(0,b.useMemo)((function(){return pe.L.filter((function(e){return!e.categories.includes("microcontroller")})).filter((function(e){return e.label.toLowerCase().includes(l.toLowerCase())}))}),[l]),d=function(e){var t,r,i=o.diagramSafeVisibleArea,a=n.diagram;if(a&&i){for(var l={x:i.left+10,y:i.top+10};a.parts.find((function(e){return Math.abs(e.left-l.x)<2&&Math.abs(e.top-l.y)<2}));)l.x+=15,l.y+=15;var s=i&&(0,fe.MU)(i);t={x:Math.min(l.x,s.x),y:Math.min(l.y,s.y)}}a&&(a.addPartFromTemplate({type:e.type,prefix:e.prefix,attrs:null!==(r=e.attrs)&&void 0!==r?r:[]},t),n.syncDiagram())},f=function(e){return e.variant?"".concat(e.type,"-").concat(e.variant):e.type};return(0,i.jsxs)("div",{className:e.typography,children:[(0,i.jsx)(se.Z,{position:"sticky",onFocus:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.focus()},children:(0,i.jsx)(ue.Z,{autoFocus:!0,ref:t,value:l,onChange:function(e){return s(e.target.value)},onClick:function(e){return e.stopPropagation()},sx:{width:"100%"},onKeyDown:function(e){if("Enter"===e.key){var n=c[0];n&&(d(n),e.preventDefault())}else if("ArrowDown"===e.key||"ArrowUp"===e.key){var t;null===(t=r.current)||void 0===t||t.dispatchEvent(new KeyboardEvent(e.type,e)),e.preventDefault()}},endAdornment:(0,i.jsx)(ce.Z,{position:"end",children:(0,i.jsx)(le.Z,{})})})}),(0,i.jsx)($.Z,{ref:r,children:c.map((function(e){return(0,i.jsx)(Q.Z,{onClick:function(){return d(e)},children:u(f(e),e.label)},f(e))}))})]})}var ve=t(1890),xe=t(76779),ge=t(95398),ye=t(77745),we=t(13264),je=t(68949),ke=function(){function e(){(0,R.Z)(this,e),(0,r.Z)(this,"showBuildFailedDialog",!1),(0,r.Z)(this,"buildErrorMessage",""),(0,je.ky)(this,{},{autoBind:!0})}return(0,W.Z)(e,[{key:"openBuildFailedDialog",value:function(e){this.showBuildFailedDialog=!0,this.buildErrorMessage=e}},{key:"closeBuildFailedDialog",value:function(){this.showBuildFailedDialog=!1}}]),e}(),be=(0,b.createContext)(new ke),Ze=(0,we.Z)(ye.Z)((function(e){var n=e.theme;return{background:"linear-gradient(180deg, ".concat(n.palette.primary.dark,", transparent)")}})),Ce=(0,w.Pi)((function(){var e=(0,C.q)("simulator.buildFailedDialog").translate,n=(0,b.useContext)(be);return(0,i.jsxs)(ve.Z,{open:n.showBuildFailedDialog,onClose:n.closeBuildFailedDialog,"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,i.jsx)(Ze,{id:"form-dialog-title",children:e("title","Build failed!")}),(0,i.jsx)(ge.Z,{children:(0,i.jsx)("pre",{children:n.buildErrorMessage})}),(0,i.jsx)(xe.Z,{children:(0,i.jsx)(L.Z,{variant:"contained",onClick:n.closeBuildFailedDialog,children:"Close"})})]})})),Se=t(30521),_e=t(19903),De=(0,w.Pi)((function(){var e=(0,C.q)("simulator.downloadingDataDialog").translate,n=(0,b.useContext)(_e.D),t=(0,te.P)(),r=0,o=0,a=!0,l=!1,s=void 0;try{for(var u,c=t.sdCardFiles[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;r+=d.size,o=d.downloading?d.progress*d.size:d.size}}catch(p){l=!0,s=p}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}r||(r=1,o=1);var f=o/r*100;return(0,i.jsxs)(ve.Z,{open:n.showSDCardDownload,onClose:function(){return n.skipSDCardDownload()},"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,i.jsx)(ye.Z,{id:"form-dialog-title",children:e("title","Downloading SD Card Data...")}),(0,i.jsx)(ge.Z,{children:(0,i.jsx)(Se.y,{value:f})}),(0,i.jsx)(xe.Z,{children:(0,i.jsx)(L.Z,{variant:"contained",onClick:function(){return n.skipSDCardDownload()},children:"Skip"})})]})})),Me=t(82670),Ee=t(26042),Ne=t(29815),ze=t(99773),Fe=t.n(ze),Re=t(70453),We=t.n(Re),Te=[{strokeStyle:{g:255},lineWidth:4},{strokeStyle:{g:165,r:255},lineWidth:4},{strokeStyle:{r:165,b:165},lineWidth:4},{strokeStyle:{g:255,b:255},lineWidth:4},{strokeStyle:{g:255,r:255},lineWidth:4},{strokeStyle:{g:255,r:255,b:255},lineWidth:4}];function Ae(e){var n;return(0,Ee.Z)({data:new ze.TimeSeries({})},null!==(n=Te[e])&&void 0!==n?n:{})}function Be(e){if(e.includes(":")){var n=e.split(":"),t=parseFloat(n[1]);return{label:n[0],value:t}}var r=parseFloat(e);return isNaN(r)&&r?{label:e,value:r}:{value:r}}function Le(e){var n=e.lines,t=(0,b.useState)([Ae(0)]),r=t[0],o=t[1],a=(0,b.useState)([]),l=a[0],s=a[1],u=(0,b.useState)(0),c=u[0],d=u[1],f=n.length;(0,b.useEffect)((function(){for(var e=function(e){var n=e.split(/[, \t]+/);if(n.length){var t=0,i=0,a=r,u=l,c=!0,d=!1,f=void 0;try{for(var p,m=n[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h=Be(p.value),v=h.label,x=h.value;!isNaN(x)&&t<16&&(a[t]||(a=(0,Ne.Z)(a).concat([Ae(t)])),a[t].data.append((new Date).getTime(),x),t++),v&&((u=(0,Ne.Z)(u))[i]=v,i++)}}catch(g){d=!0,f=g}finally{try{c||null==m.return||m.return()}finally{if(d)throw f}}a!==r&&o(a),u!==l&&s(u)}},t=f>=c?c:0;t<f;t++)e(n[t]);d(f)}),[c,n,r,f,l]);return(0,i.jsx)(Fe(),{responsive:!0,nonRealtimeData:!0,tooltip:function(e){var n,t=e.display,r=e.time,o=e.data;return t?(0,i.jsxs)("div",{className:We().tooltip,children:[(0,i.jsx)("strong",{children:new Date(r||0).toLocaleTimeString()}),o?(0,i.jsx)("ul",{children:o.map((function(e,t){return(0,i.jsxs)("li",{style:{color:e.series.options.strokeStyle},children:[null!==(n=l[t])&&void 0!==n?n:1+t,": ",e.value]},t)}))}):(0,i.jsx)("div",{})]}):(0,i.jsx)("div",{})},containerStyle:{flex:1,position:"relative"},style:{height:"0",minHeight:"100%",width:"100%"},series:r})}var Pe=t(47568),He=t(34051),Ie=t.n(He),Ge=t(8107),Ke=t.n(Ge),Oe=(0,b.forwardRef)((function(e,n){var r=e.onInput,o=e.onLoaded,a=e.className,l=(0,b.useState)(),s=l[0],u=l[1],c=(0,b.useRef)(null),d=(0,b.useRef)(),f=(0,b.useRef)(o);return f.current=o,(0,b.useImperativeHandle)(n,(function(){return{write:function(e){null===s||void 0===s||s.write(new Uint8Array([e]))},writeln:function(e){null===s||void 0===s||s.writeln(e)}}}),[s]),(0,b.useEffect)((function(){var e=c.current;e&&(0,Pe.Z)(Ie().mark((function n(){var r,i,o,a,l,s;return Ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Promise.all([t.e(6142),t.e(2787)]).then(t.bind(t,82787));case 3:return i=n.sent,o=i.FitAddon,a=i.Terminal,(l=new a).open(e),s=new o,l.loadAddon(s),d.current=s,s.fit(),u(l),null===(r=f.current)||void 0===r||r.call(f,l),n.abrupt("return",(function(){l.dispose(),u(void 0)}));case 15:case"end":return n.stop()}}),n)})))()}),[]),(0,b.useEffect)((function(){var e=null===s||void 0===s?void 0:s.onData((function(e){return null===r||void 0===r?void 0:r(e)}));return function(){return null===e||void 0===e?void 0:e.dispose()}}),[s,r]),Ke()({ref:c,onResize:function(e){var n;e.height&&(null===(n=d.current)||void 0===n||n.fit())}}),(0,i.jsx)("div",{ref:c,className:a})})),Ue=(0,g.Z)((function(){return{terminal:{flex:1,height:0}}}));function Ve(e){var n=e.onInput,t=(0,b.useContext)(_e.D),r=(0,b.useState)(null),o=r[0],a=r[1],l=Ue();return(0,b.useEffect)((function(){if(o){var e=function(){t.serial.bytesBuffer.length&&(o.write(new Uint8Array((0,Ne.Z)(t.serial.bytesBuffer))),t.serial.bytesBuffer=[])};return e(),t.serial.listener=e,function(){t.serial.listener=void 0}}}),[o,t]),(0,i.jsx)(Oe,{onInput:n,className:l.terminal,onLoaded:function(e){a(e)}})}var qe=t(79946),Ye=t.n(qe);function $e(e){var n=e.lines,t=e.buffer,a=e.onInput,s=e.onClear,u=e.plotter,c=e.onTogglePlotter,d=e.terminal,f=(0,b.useState)(!0),p=f[0],m=f[1],h=(0,b.useRef)(null),v=(0,b.useState)(function(){var e=(0,M.N)().font;return e?{fontSize:e+"px"}:{}}())[0];(0,b.useEffect)((function(){p&&h.current&&(h.current.scrollTop=h.current.scrollHeight)}),[n.length,t,p]);var x=n.length,g=(0,b.useMemo)((function(){return n.join("\n")+(x?"\n":"")}),[n,x]);return d?(0,i.jsx)(Ve,{onInput:a}):(0,i.jsxs)("div",{className:Ye().serialMonitor,children:[u?(0,i.jsx)("div",{className:Ye().plotterContainer,children:(0,i.jsx)(Le,{lines:n})}):(0,i.jsx)("div",{className:Ye().monitorContainer,children:(0,i.jsxs)("pre",{className:"notranslate",onScroll:function(e){var n=e.currentTarget,t=n.scrollHeight-n.scrollTop-n.clientHeight;t>32?m(!1):n.scrollTop>0&&t<1&&m(!0)},style:v,ref:h,children:[g,t]})}),(0,i.jsxs)("div",{className:Ye().serialControls,children:[(0,i.jsx)("input",{className:Ye().serialInput,onKeyPress:function(e){var n=e.target;"Enter"===e.key&&(0,Me.Z)(n,HTMLInputElement)&&(null===a||void 0===a||a(n.value),n.value="")}}),(0,i.jsx)("button",{title:"Serial plotter",onClick:c,className:(0,y.Z)((0,r.Z)({},Ye().active,u)),children:(0,i.jsx)(l(),{path:o.Cst,size:1})}),(0,i.jsx)("button",{onClick:function(){return m(!p)},title:"Auto scroll",children:(0,i.jsx)(l(),{path:p?o.Wa1:o._86,size:1})}),(0,i.jsx)("button",{onClick:function(){return null===s||void 0===s?void 0:s()},children:(0,i.jsx)(l(),{path:o.QGK,size:1})})]})]})}var Qe=t(73983);function Je(e){var n=e.src,t=(0,b.useContext)(_e.D),r=(0,b.useState)(!1),o=r[0],a=r[1],l=(0,b.useRef)(null),s=(0,b.useState)(null),u=s[0],c=s[1];return(0,b.useEffect)((function(){return(0,je.EH)((function(){var e,n,r=t.lastUpdate;o&&Object.keys(r).length&&(null===(n=u||(null===(e=l.current)||void 0===e?void 0:e.contentWindow))||void 0===n||n.postMessage((0,Ee.Z)({$nanos:t.lastUpdateNanos},(0,je.ZN)(r)),"*"))}))})),(0,Qe.m)("message",(function(e){var n,t=e.data;"wokwi"===(null===t||void 0===t?void 0:t.app)&&("listen"===t.command&&(a(!0),(null===(n=e.source)||void 0===n?void 0:n.postMessage)&&c(e.source)))})),(0,i.jsx)("iframe",{ref:l,src:n,style:{border:"none",flex:"1"},allow:"fullscreen; microphone; midi; usb; autoplay; camera; accelerometer"})}var Xe=t(20965),en=t.n(Xe),nn=k()((function(){return t.e(7303).then(t.bind(t,37303))}),{loadableGenerated:{webpack:function(){return[37303]}}}),tn=(0,g.Z)((function(){return{simulation:{position:"relative",display:"flex",flexDirection:"column",background:(0,M.N)().dark?"#333":"#ddd",flex:"1",color:"black"},fullscreen:{zIndex:10,position:"fixed",top:0,left:0,bottom:0,right:0}}})),rn=(0,w.Pi)((function(e){var n=e.diagram,t=e.files,a=e.className,g=e.disableEdit,w=(0,b.useContext)(E.r),j=(0,b.useContext)(_e.D),k=(0,b.useState)(!1),M=k[0],F=k[1],R=(0,b.useRef)(null),W=(0,b.useState)(!1),T=W[0],A=W[1],B=(0,b.useRef)(null),L=(0,te.P)(),H=(0,Z.a)(),I=tn(),G=(0,b.useContext)(z.A),K=(0,b.useContext)(be),O=(0,C.q)("simulator.main").translate,U=(0,b.useCallback)((function(){return L.syncDiagram()}),[L]);j.onBuildFailure=function(e){var n,r,i,o=null!==(i=null===(n=t.find((function(e){return"sketch"===(0,D.r5)(e.name)})))||void 0===n?void 0:n.name)&&void 0!==i?i:"sketch.ino";(0,S.L)({category:"build",action:"build_failure"}),null===(r=w.goToError)||void 0===r||r.call(w),K.openBuildFailedDialog((0,_.GS)(e,o))};var V=j.running?O("restart","Restart the simulation"):O("start","Start the simulation"),q=j.paused?O("resume","Resume"):O("pause","Pause"),Y=j.serial.terminalMode?function(e){return Math.max(1+17*Math.round(e/17),103)}:function(e){return Math.max(e,100)},$=j.serial.terminalMode?"":n.serialLineEnding;return(0,i.jsxs)("div",{className:(0,y.Z)(I.simulation,(0,r.Z)({},I.fullscreen,G.fullScreen),a),onKeyDown:function(e){e.altKey&&"Enter"===e.key&&G.toggleFullScreen()},children:[(0,i.jsx)(De,{}),(0,i.jsx)(Ce,{}),(0,i.jsxs)("div",{className:en().simulationControls,children:[(0,i.jsx)(m.Z,{m:1,children:(0,i.jsx)(h.Z,{title:V,children:(0,i.jsx)(v.Z,{onClick:function(){j.start({files:t,binaryFiles:L.binaryFiles,diagram:n,sdCardFiles:L.sdCardFiles,projectId:L.id,userId:H.id})},"aria-label":V,size:"small",style:{color:"white"},color:"secondary",children:j.running?(0,i.jsx)(s.Z,{}):(0,i.jsx)(u.Z,{})})})}),(0,i.jsxs)(m.Z,{my:1,mr:1,children:[!j.running&&!j.building&&!g&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{title:O("addNewPart","Add a new part"),children:(0,i.jsx)(v.Z,{ref:R,onClick:function(){return F((function(e){return!e}))},"aria-label":O("addNewPart","Add a new part"),color:"primary",size:"small",children:(0,i.jsx)(c.Z,{})})}),(0,i.jsx)(x.ZP,{open:M,anchorEl:R.current,onClose:function(){return F(!1)},onClick:function(){return F(!1)},onKeyDown:function(e){"Enter"===e.key&&(F(!1),e.stopPropagation())},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,i.jsx)(he,{})})]}),j.building&&(0,i.jsx)(l(),{path:o.CEZ,size:.8,spin:!0}),j.running&&(0,i.jsx)(h.Z,{title:O("stopSimulation","Stop the simulation"),children:(0,i.jsx)(v.Z,{onClick:function(){return j.stop()},"aria-label":O("stopSimulation","Stop the simulation"),style:{background:"gray",color:"white"},size:"small",children:(0,i.jsx)(d.Z,{})})})]}),!j.running&&!j.building&&!g&&(0,i.jsxs)(m.Z,{my:1,mr:1,children:[(0,i.jsx)(h.Z,{title:O("zoomGridTooltip","Zoom, Grid, and more"),children:(0,i.jsx)(v.Z,{ref:B,onClick:function(){return A((function(e){return!e}))},"aria-label":O("zoomGridTooltip","Zoom, grid, and more"),style:{background:"gray",color:"white"},size:"small",children:(0,i.jsx)(f.Z,{})})}),(0,i.jsx)(x.ZP,{open:T,anchorEl:B.current,onClose:function(){return A(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,i.jsx)(re,{})})]}),j.running&&(0,i.jsx)(m.Z,{my:1,mr:1,children:(0,i.jsx)(h.Z,{title:q,children:(0,i.jsx)(v.Z,{onClick:function(){j.paused?j.resume():j.pause()},"aria-label":q,size:"small",style:j.paused?{background:"yellow",color:"#333"}:{background:"gray",color:"white"},children:j.paused?(0,i.jsx)(u.Z,{}):(0,i.jsx)(p.Z,{})})})})]}),j.running&&(0,i.jsxs)("span",{className:en().simulationStatus,children:[(0,i.jsx)(l(),{path:o.clR,size:1}),(0,i.jsx)("span",{className:en().timeText,ref:function(e){j.timeElement=e}}),(0,i.jsx)(l(),{path:o.YLv,size:1}),(0,i.jsx)("span",{className:en().speedText,ref:function(e){j.speedElement=e}})]}),n.customView?(0,i.jsx)(Je,{src:n.customView}):(0,i.jsx)(P,{children:(0,i.jsx)(N.Z,{diagram:n,editMode:!j.running&&!g,onDiagramUpdated:U,marginTop:56})}),j.serial.show&&(0,i.jsx)(ae,{initialSize:200,constrain:Y,children:(0,i.jsx)($e,{lines:j.serial.lines,buffer:j.serial.textBuffer,plotter:j.serial.showPlotter,terminal:j.serial.terminalMode,onClear:function(){return j.serial.clearSerial()},onInput:function(e){return j.feedSerial(e+$)},onTogglePlotter:function(){return j.serial.togglePlotter()}})}),n.ercEnabled&&!j.running&&(0,i.jsx)("div",{className:en().ercBox,children:(0,i.jsx)("div",{children:(0,i.jsx)(nn,{})})})]})}))},48734:function(e,n,t){"use strict";t.d(n,{BX:function(){return h},OK:function(){return v},mQ:function(){return x}});var r=t(14924),i=t(26042),o=t(69396),a=t(99534),l=t(85893),s=t(55317),u=t(8849),c=t.n(u),d=t(86010),f=t(67294),p=t(26586),m=t.n(p),h=(0,f.forwardRef)((function(e,n){var t=e.active,r=(0,a.Z)(e,["active"]);return(0,l.jsx)("button",(0,o.Z)((0,i.Z)({},r),{className:(0,d.Z)(m().dropdown,t&&m().active),ref:n,children:(0,l.jsx)(c(),{path:s.iW9,size:"20px"})}))}));function v(e){var n,t=e.children,s=e.active,u=e.modified,c=e.errors,f=(0,a.Z)(e,["children","active","modified","errors"]);return(0,l.jsx)("button",(0,o.Z)((0,i.Z)({},f),{className:(0,d.Z)(m().tab,(n={},(0,r.Z)(n,m().active,s),(0,r.Z)(n,m().modified,u),(0,r.Z)(n,m().errors,c),n)),children:t}))}function x(e){var n=e.children;return(0,l.jsx)("div",{className:m().tabs,children:n})}h.displayName="DropdownTab"},73983:function(e,n,t){"use strict";t.d(n,{m:function(){return i}});var r=t(67294);function i(e,n){(0,r.useEffect)((function(){return window.addEventListener(e,n),function(){return window.removeEventListener(e,n)}}),[e,n])}},44671:function(e){e.exports={wrapper:"code-editor_wrapper__AEiSo",sourceCodePreview:"code-editor_sourceCodePreview__EdZbN",dark:"code-editor_dark__CWET3",editorContainer:"code-editor_editorContainer__Rr_BW",disableAutocomplete:"code-editor_disableAutocomplete__YWoh3"}},86480:function(e){e.exports={breakpoint:"editor-breakpoints_breakpoint__fpIFO",stackframe:"editor-breakpoints_stackframe__RLFHW",hint:"editor-breakpoints_hint__6k0WP",stackframeLine:"editor-breakpoints_stackframeLine__izOAE"}},79946:function(e){e.exports={serialMonitor:"serial-monitor_serialMonitor__RdKZu",monitorContainer:"serial-monitor_monitorContainer__gCtjW",plotterContainer:"serial-monitor_plotterContainer__f7pEp",serialControls:"serial-monitor_serialControls__KSZx8",active:"serial-monitor_active__zff4A"}},70453:function(e){e.exports={tooltip:"serial-plotter_tooltip__DIqtJ"}},20965:function(e){e.exports={simulationControls:"simulation_simulationControls__ludWG",timeText:"simulation_timeText__xmxMn",speedText:"simulation_speedText__lUUIl",simulationStatus:"simulation_simulationStatus__0E79Q",ercBox:"simulation_ercBox__DObiL"}},26586:function(e){e.exports={tabs:"tabs_tabs__ztOIk",tab:"tabs_tab__iRWK_",active:"tabs_active___gU2D",modified:"tabs_modified__tU9Lp",errors:"tabs_errors__OLBf0",dropdown:"tabs_dropdown__xOoyW"}}}]);